<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_boss</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-1</depth>
  <persistent>0</persistent>
  <parentName>parent_boss</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>x = 480 
y = 64 + 15

vida = 0

x1 = x
y1 = x

Estado = "inicio"

t = 0
sp = 15
pisca = false

alarm[0] = 60
balas = 9
bolas = false

burst = false

boom = false

alp = 0
gameover = false

background_x = -(x - 64)/8
background_y = -(y - 64)/8
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.vs1++
gameover = true
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="6">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>boom = false
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>x5 = random_range(0, room_width) 
y5 = random_range(0, room_height) 
r5 = random_range(80, 160)
boom = true
audio_stop_sound(mus_game)
audio_play_sound(sfx_explosion, 1, false)
alarm[6] = 10
if alp &lt; 1 {
    alarm[5] = 15
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>burst = false

view_xview = 0
view_yview = 0

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>audio_play_sound(sfx_bolas, 0, false)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if Estado != "primeiro" or !bolas {
    pisca = false
}

alarm[0] = irandom_range(120, 180)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if Estado != "primeiro" or !bolas {
    pisca = true
}

alarm[1] = 5
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>switch Estado {

    case "inicio":
        if vida &lt; 15*5 {
            vida += 0.2*5
            audio_play_sound(sfx_carregar, 1, false)
        }
        else {
            audio_stop_sound(sfx_carregar)
            vida = 15*5
            audio_play_sound(mus_game, 10, true)
            Estado = "parado"
        }
    break;

    case "parado":
    if mouse_check_button_pressed(mb_left) {
        scr_mov()
    }
    if mouse_check_button(mb_right) and alarm[2] == -1 {
        for (i = 0; i &lt; balas; i += 1) {
            bola = instance_create(x + 32, y + 48, obj_bola)
            bola.direction = (360/balas)*i
        }
        alarm[2] = 10
        bolas = true
    }
    if mouse_check_button_released(mb_right) {
        bolas = false
    }
    break;
    
    case "primeiro":
    break;
    
    case "movendo":
    background_x = -(x - 64)/8
    background_y = -(y - 64)/8
    bolas = false
    if point_distance(x,y,x1,y1) &gt; 5 {
        move_towards_point(x1,y1, sp)
    }
    else {
        x = x1
        y = y1
        speed = 0
        Estado = "parado"
    }
    break;
    
    case "morto":
        if alp &lt; 1 {
            alarm[7] = 130
        }  
    break;    

}

if gameover {
    if keyboard_check_pressed(ord('R')) {room_restart()}
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_tiro">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>vida -= 1
alarm[3] = 2
alarm[4] = 15
burst = true
if vida &lt;= 0 {
    alarm[5] = 1
    Estado = "morto"
}
audio_play_sound(sfx_bosshit, 1, false)
with other {
    instance_destroy()
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if collision_rectangle(0,0,room_width/2 - 3, room_height/2 - 3, obj_mouse, false, false) {
    draw_set_color(c_red)
    draw_set_alpha(0.2)
        draw_rectangle(0,0,room_width/2, room_height/2, false)
}
if collision_rectangle(0,room_height/2 + 3,room_width/2 - 3 , room_height, obj_mouse, false, false) {
    draw_set_color(c_red)
    draw_set_alpha(0.2)
        draw_rectangle(0,room_height/2,room_width/2, room_height, false)

}
if collision_rectangle(room_width/2 + 3,0,room_width, room_height/2 - 3, obj_mouse, false, false) {
    draw_set_color(c_red)
    draw_set_alpha(0.2)
        draw_rectangle(room_width/2,0,room_width, room_height/2, false)
}
if collision_rectangle(room_width/2 + 3,room_height/2 + 3,room_width , room_height, obj_mouse, false, false) {
    draw_set_color(c_red)
    draw_set_alpha(0.2)
        draw_rectangle(room_width/2,room_height/2,room_width, room_height, false)  
}

draw_set_alpha(1)
draw_set_color(c_white)

ang = point_direction(x + 32, y + 48, parent_hero.x, parent_hero.y)

x3 = lengthdir_x(10, ang)
y3 = lengthdir_y(10, ang)

draw_set_color(c_white)
    draw_circle(x + 32, y + 48, 30, false)
    if Estado != "primeiro" and !bolas {
        if Estado == "morto" {
            draw_sprite(spr_olho_ruim, 0, x + 32, y + 48)
            //draw_set_color(c_black)
            //draw_circle(x + 32, y + 48, 5, false)
        }
        else {
            draw_sprite(spr_olho, 0, x + 32 + x3, y + 48 + y3)
        }
    }
    else {
        draw_sprite(spr_bola, 0, x + 32, y + 48)
    }
draw_set_color(c_white)

draw_self()

if alarm[3] == -1 {
    if pisca {image_index = 0}
    else {image_index = 2}
}
else {
    image_index = 1
}

draw_set_color(c_red)
    if vida &gt; 0 {
        draw_rectangle(room_width/2 - 120, 50, room_width/2 - 120 + vida*3, 75, false)
    }
draw_set_color(c_gray)
    draw_set_font(font_game)
    for (i = 0; i &lt; 4; i += 1)
        draw_rectangle(room_width/2 - 120 - i, 50 - i, room_width/2 - 120 + 225 + i, 75 + i, true)
draw_set_color(c_white)
draw_text(room_width/2 - 120 - 2, 30 - 2, "Boss")

if boom {
    draw_circle(x5,y5,r5, false)
}

if Estado == "morto" {
    if alp &lt; 1 {
        draw_set_alpha(alp)
        draw_rectangle(-10,-10,room_width + 20,room_height + 20, false)
        draw_set_alpha(1)
        alp += 0.005
    }
    else {
        draw_rectangle(0,0,room_width,room_height, false)
        draw_set_color(c_black)
        draw_set_halign(fa_center)
        draw_set_font(font_game2)
        if gameover {
            draw_text(room_width/2, room_height/2 - 50, "Hero: " + string(global.vs1) + "##Boss: " + string(global.vs2))
        }
        draw_set_color(c_white)
    }
}





</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
